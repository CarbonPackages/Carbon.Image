// Pollyfill.Picture.js from Carbon.Image
// For license information please see Pollyfill.Picture.js.license
!function(){"use strict";function e(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var t=e((function(e){!function(t,n){var i=function(e,t,n){var i,r;if(function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in r=e.lazySizesConfig||e.lazysizesConfig||{},n)t in r||(r[t]=n[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:r,noSupport:!0};var a=t.documentElement,s=e.HTMLPictureElement,o="addEventListener",l="getAttribute",c=e[o].bind(e),u=e.setTimeout,d=e.requestAnimationFrame||u,f=e.requestIdleCallback,p=/^picture$/i,m=["load","error","lazyincluded","_lazyloaded"],y={},h=Array.prototype.forEach,g=function(e,t){return y[t]||(y[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),y[t].test(e[l]("class")||"")&&y[t]},v=function(e,t){g(e,t)||e.setAttribute("class",(e[l]("class")||"").trim()+" "+t)},z=function(e,t){var n;(n=g(e,t))&&e.setAttribute("class",(e[l]("class")||"").replace(n," "))},b=function(e,t,n){var i=n?o:"removeEventListener";n&&b(e,t),m.forEach((function(n){e[i](n,t)}))},C=function(e,n,r,a,s){var o=t.createEvent("Event");return r||(r={}),r.instance=i,o.initEvent(n,!a,!s),o.detail=r,e.dispatchEvent(o),o},A=function(t,n){var i;!s&&(i=e.picturefill||r.pf)?(n&&n.src&&!t[l]("srcset")&&t.setAttribute("srcset",n.src),i({reevaluate:!0,elements:[t]})):n&&n.src&&(t.src=n.src)},E=function(e,t){return(getComputedStyle(e,null)||{})[t]},w=function(e,t,n){for(n=n||e.offsetWidth;n<r.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},_=(ve=[],ze=[],be=ve,Ce=function(){var e=be;for(be=ve.length?ze:ve,he=!0,ge=!1;e.length;)e.shift()();he=!1},Ae=function(e,n){he&&!n?e.apply(this,arguments):(be.push(e),ge||(ge=!0,(t.hidden?u:d)(Ce)))},Ae._lsFlush=Ce,Ae),N=function(e,t){return t?function(){_(e)}:function(){var t=this,n=arguments;_((function(){e.apply(t,n)}))}},M=function(e){var t,i=0,a=r.throttleDelay,s=r.ricTimeout,o=function(){t=!1,i=n.now(),e()},l=f&&s>49?function(){f(o,{timeout:s}),s!==r.ricTimeout&&(s=r.ricTimeout)}:N((function(){u(o)}),!0);return function(e){var r;(e=!0===e)&&(s=33),t||(t=!0,(r=a-(n.now()-i))<0&&(r=0),e||r<9?l():u(l,r))}},x=function(e){var t,i,r=99,a=function(){t=null,e()},s=function(){var e=n.now()-i;e<r?u(s,r-e):(f||a)(a)};return function(){i=n.now(),t||(t=u(s,r))}},T=(J=/^img$/i,K=/^iframe$/i,Q="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),V=0,Y=0,Z=0,ee=-1,te=function(e){Z--,(!e||Z<0||!e.target)&&(Z=0)},ne=function(e){return null==G&&(G="hidden"==E(t.body,"visibility")),G||!("hidden"==E(e.parentNode,"visibility")&&"hidden"==E(e,"visibility"))},ie=function(e,n){var i,r=e,s=ne(e);for(q-=n,X+=n,O-=n,j+=n;s&&(r=r.offsetParent)&&r!=t.body&&r!=a;)(s=(E(r,"opacity")||1)>0)&&"visible"!=E(r,"overflow")&&(i=r.getBoundingClientRect(),s=j>i.left&&O<i.right&&X>i.top-1&&q<i.bottom+1);return s},re=function(){var e,n,s,o,c,u,d,f,p,m,y,h,g=i.elements;if((k=r.loadMode)&&Z<8&&(e=g.length)){for(n=0,ee++;n<e;n++)if(g[n]&&!g[n]._lazyRace)if(!Q||i.prematureUnveil&&i.prematureUnveil(g[n]))fe(g[n]);else if((f=g[n][l]("data-expand"))&&(u=1*f)||(u=Y),m||(m=!r.expand||r.expand<1?a.clientHeight>500&&a.clientWidth>500?500:370:r.expand,i._defEx=m,y=m*r.expFactor,h=r.hFac,G=null,Y<y&&Z<1&&ee>2&&k>2&&!t.hidden?(Y=y,ee=0):Y=k>1&&ee>1&&Z<6?m:V),p!==u&&(U=innerWidth+u*h,$=innerHeight+u,d=-1*u,p=u),s=g[n].getBoundingClientRect(),(X=s.bottom)>=d&&(q=s.top)<=$&&(j=s.right)>=d*h&&(O=s.left)<=U&&(X||j||O||q)&&(r.loadHidden||ne(g[n]))&&(D&&Z<3&&!f&&(k<3||ee<4)||ie(g[n],u))){if(fe(g[n]),c=!0,Z>9)break}else!c&&D&&!o&&Z<4&&ee<4&&k>2&&(F[0]||r.preloadAfterLoad)&&(F[0]||!f&&(X||j||O||q||"auto"!=g[n][l](r.sizesAttr)))&&(o=F[0]||g[n]);o&&!c&&fe(o)}},ae=M(re),se=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(te(e),v(t,r.loadedClass),z(t,r.loadingClass),b(t,le),C(t,"lazyloaded"))},oe=N(se),le=function(e){oe({target:e.target})},ce=function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},ue=function(e){var t,n=e[l](r.srcsetAttr);(t=r.customMedia[e[l]("data-media")||e[l]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},de=N((function(e,t,n,i,a){var s,o,c,d,f,m;(f=C(e,"lazybeforeunveil",t)).defaultPrevented||(i&&(n?v(e,r.autosizesClass):e.setAttribute("sizes",i)),o=e[l](r.srcsetAttr),s=e[l](r.srcAttr),a&&(d=(c=e.parentNode)&&p.test(c.nodeName||"")),m=t.firesLoad||"src"in e&&(o||s||d),f={target:e},v(e,r.loadingClass),m&&(clearTimeout(H),H=u(te,2500),b(e,le,!0)),d&&h.call(c.getElementsByTagName("source"),ue),o?e.setAttribute("srcset",o):s&&!d&&(K.test(e.nodeName)?ce(e,s):e.src=s),a&&(o||d)&&A(e,{src:s})),e._lazyRace&&delete e._lazyRace,z(e,r.lazyClass),_((function(){var t=e.complete&&e.naturalWidth>1;m&&!t||(t&&v(e,"ls-is-cached"),se(f),e._lazyCache=!0,u((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&Z--}),!0)})),fe=function(e){if(!e._lazyRace){var t,n=J.test(e.nodeName),i=n&&(e[l](r.sizesAttr)||e[l]("sizes")),a="auto"==i;(!a&&D||!n||!e[l]("src")&&!e.srcset||e.complete||g(e,r.errorClass)||!g(e,r.lazyClass))&&(t=C(e,"lazyunveilread").detail,a&&L.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,Z++,de(e,t,a,i,n))}},pe=x((function(){r.loadMode=3,ae()})),me=function(){3==r.loadMode&&(r.loadMode=2),pe()},ye=function(){D||(n.now()-I<999?u(ye,999):(D=!0,r.loadMode=3,ae(),c("scroll",me,!0)))},{_:function(){I=n.now(),i.elements=t.getElementsByClassName(r.lazyClass),F=t.getElementsByClassName(r.lazyClass+" "+r.preloadClass),c("scroll",ae,!0),c("resize",ae,!0),c("pageshow",(function(e){if(e.persisted){var n=t.querySelectorAll("."+r.loadingClass);n.length&&n.forEach&&d((function(){n.forEach((function(e){e.complete&&fe(e)}))}))}})),e.MutationObserver?new MutationObserver(ae).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a[o]("DOMNodeInserted",ae,!0),a[o]("DOMAttrModified",ae,!0),setInterval(ae,999)),c("hashchange",ae,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){t[o](e,ae,!0)})),/d$|^c/.test(t.readyState)?ye():(c("load",ye),t[o]("DOMContentLoaded",ae),u(ye,2e4)),i.elements.length?(re(),_._lsFlush()):ae()},checkElems:ae,unveil:fe,_aLSL:me}),L=(B=N((function(e,t,n,i){var r,a,s;if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),p.test(t.nodeName||""))for(a=0,s=(r=t.getElementsByTagName("source")).length;a<s;a++)r[a].setAttribute("sizes",i);n.detail.dataAttr||A(e,n.detail)})),R=function(e,t,n){var i,r=e.parentNode;r&&(n=w(e,r,n),(i=C(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=i.detail.width)&&n!==e._lazysizesWidth&&B(e,r,i,n))},W=x((function(){var e,t=S.length;if(t)for(e=0;e<t;e++)R(S[e])})),{_:function(){S=t.getElementsByClassName(r.autosizesClass),c("resize",W)},checkElems:W,updateElem:R}),P=function(){!P.i&&t.getElementsByClassName&&(P.i=!0,L._(),T._())};var S,B,R,W;var F,D,H,k,I,U,$,q,O,j,X,G,J,K,Q,V,Y,Z,ee,te,ne,ie,re,ae,se,oe,le,ce,ue,de,fe,pe,me,ye;var he,ge,ve,ze,be,Ce,Ae;return u((function(){r.init&&P()})),i={cfg:r,autoSizer:L,loader:T,init:P,uP:A,aC:v,rC:z,hC:g,fire:C,gW:w,rAF:_}}(t,t.document,Date);t.lazySizes=i,e.exports&&(e.exports=i)}("undefined"!=typeof window?window:{})}));e((function(e){!function(n,i){if(n){var r=function(){i(n.lazySizes),n.removeEventListener("lazyunveilread",r,!0)};i=i.bind(null,n,n.document),e.exports?i(t):n.lazySizes?r():n.addEventListener("lazyunveilread",r,!0)}}("undefined"!=typeof window?window:0,(function(e,t,n){var i,r,a,s,o,l,c,u,d,f,p,m,y,h,g,v,z=n.cfg,b=t.createElement("img"),C="sizes"in b&&"srcset"in b,A=/\s+\d+h/g,E=(r=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,a=Array.prototype.forEach,function(){var e=t.createElement("img"),i=function(e){var t,n,i=e.getAttribute(z.srcsetAttr);i&&(n=i.match(r))&&((t="w"==n[2]?n[1]/n[3]:n[3]/n[1])&&e.setAttribute("data-aspectratio",t),e.setAttribute(z.srcsetAttr,i.replace(A,"")))},s=function(e){if(e.detail.instance==n){var t=e.target.parentNode;t&&"PICTURE"==t.nodeName&&a.call(t.getElementsByTagName("source"),i),i(e.target)}},o=function(){e.currentSrc&&t.removeEventListener("lazybeforeunveil",s)};t.addEventListener("lazybeforeunveil",s),e.onload=o,e.onerror=o,e.srcset="data:,a 1w 1h",e.complete&&o()});(z.supportsType||(z.supportsType=function(e){return!e}),e.HTMLPictureElement&&C)?!n.hasHDescriptorFix&&t.msElementsFromPoint&&(n.hasHDescriptorFix=!0,E()):e.picturefill||z.pf||(z.pf=function(t){var n,r;if(!e.picturefill)for(n=0,r=t.elements.length;n<r;n++)i(t.elements[n])},u=function(e,t){return e.w-t.w},d=/^\s*\d+\.*\d*px\s*$/,o=/(([^,\s].[^\s]+)\s+(\d+)w)/g,l=/\s/,c=function(e,t,n,i){s.push({c:t,u:n,w:1*i})},p=function(){var e,n,r;p.init||(p.init=!0,addEventListener("resize",(n=t.getElementsByClassName("lazymatchmedia"),r=function(){var e,t;for(e=0,t=n.length;e<t;e++)i(n[e])},function(){clearTimeout(e),e=setTimeout(r,66)})))},m=function(t,i){var r,a=t.getAttribute("srcset")||t.getAttribute(z.srcsetAttr);!a&&i&&(a=t._lazypolyfill?t._lazypolyfill._set:t.getAttribute(z.srcAttr)||t.getAttribute("src")),t._lazypolyfill&&t._lazypolyfill._set==a||(r=f(a||""),i&&t.parentNode&&(r.isPicture="PICTURE"==t.parentNode.nodeName.toUpperCase(),r.isPicture&&e.matchMedia&&(n.aC(t,"lazymatchmedia"),p())),r._set=a,Object.defineProperty(t,"_lazypolyfill",{value:r,writable:!0}))},y=function(t){return e.matchMedia?(y=function(e){return!e||(matchMedia(e)||{}).matches})(t):!t},h=function(t){var i,r,a,s,o,l,c;if(m(s=t,!0),(o=s._lazypolyfill).isPicture)for(r=0,a=(i=t.parentNode.getElementsByTagName("source")).length;r<a;r++)if(z.supportsType(i[r].getAttribute("type"),t)&&y(i[r].getAttribute("media"))){s=i[r],m(s),o=s._lazypolyfill;break}return o.length>1?(c=s.getAttribute("sizes")||"",c=d.test(c)&&parseInt(c,10)||n.gW(t,t.parentNode),o.d=function(t){var i=e.devicePixelRatio||1,r=n.getX&&n.getX(t);return Math.min(r||i,2.5,i)}(t),!o.src||!o.w||o.w<c?(o.w=c,l=function(e){for(var t,n,i=e.length,r=e[i-1],a=0;a<i;a++)if((r=e[a]).d=r.w/e.w,r.d>=e.d){!r.cached&&(t=e[a-1])&&t.d>e.d-.13*Math.pow(e.d,2.2)&&(n=Math.pow(t.d-.6,1.6),t.cached&&(t.d+=.15*n),t.d+(r.d-e.d)*n>e.d&&(r=t));break}return r}(o.sort(u)),o.src=l):l=o.src):l=o[0],l},(g=function(e){if(!C||!e.parentNode||"PICTURE"==e.parentNode.nodeName.toUpperCase()){var t=h(e);t&&t.u&&e._lazypolyfill.cur!=t.u&&(e._lazypolyfill.cur=t.u,t.cached=!0,e.setAttribute(z.srcAttr,t.u),e.setAttribute("src",t.u))}}).parse=f=function(e){return s=[],(e=e.trim()).replace(A,"").replace(o,c),s.length||!e||l.test(e)||s.push({c:e,u:e,w:99}),s},i=g,z.loadedClass&&z.loadingClass&&(v=[],['img[sizes$="px"][srcset].',"picture > img:not([srcset])."].forEach((function(e){v.push(e+z.loadedClass),v.push(e+z.loadingClass)})),z.pf({elements:t.querySelectorAll(v.join(", "))})))}))}))}();
